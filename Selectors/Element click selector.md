# Element click selector

元素单击选择器的工作原理与
[Element selector][element-selector]。它的主要目的也是元素
可以作为其子选择器的父元素提供的选择。唯一的
区别在于_Element单击选择器_可以通过以下方式与网页进行交互
单击按钮以加载新元素。例如页面可能使用
用于分页或项目加载的JavaScript和AJAX。

注意!选择可点击元素时,您应通过移动
将鼠标悬停在元素上,然后按“ S”。这种选择将避免
按钮触发的事件。

## Configuration options

- 选择器-[CSS selector][css-selector]用于包装元素
    用作子选择器的父元素。
- 单击选择器-[CSS selector][css-selector]用于需要的按钮
    单击以加载更多元素。
- 点击类型-选择器如何知道何时将没有新的类型
    元素和点击应停止。
- 分页限制-您希望选择器执行的点击次数。
- 单击元素的唯一性-选择器如何知道哪些按钮是哪种类型
    已经点击。
- 多个-正在提取多个记录(几乎总是
    选中)。通常不应选中子选择器的多个选项。
- 延迟-元素选择之前的延迟和单击之间的延迟。这个
    通常应指定,因为不会立即从中加载数据
    服务器。如果您不想超过2000毫秒,则可能是一个不错的选择
    数据丢失,因为服务器的响应速度不够快。
- 舍弃初始元素-选择器将不返回那些
    在首次点击之前可用。这可能对
    重复删除。

### 点击类型

#### 单击一次

单击一次类型将仅单击一次按钮。如果出现新按钮
可以选择它将被单击。例如分页链接
可能会显示第1至5页,但稍后会显示第6至10页。的
选择器也会单击这些按钮。

#### 单击更多

单击更多类型使选择器多次单击给定的按钮
直到没有新元素出现。一个新元素被认为是
具有唯一文本内容的元素。

### 点击元素的唯一性

使用_Click一次_时,只会单击唯一的按钮。使用时
_单击更多_这有助于忽略不会生成更多元素的按钮。

- 唯一文本-具有相同文本内容的按钮被视为相等
- 独特的HTML +文本-具有相同HTML和文本内容的按钮是
    被认为是平等的
- 独特的HTML-具有相同HTML和剥离文本内容的按钮是
    被认为是平等的
- 唯一的CSS选择器-具有相同CSS选择器的按钮被视为相等

## Use cases

#### 使用“单击一次”选择器类型浏览分页

例如,有一个网站显示项目列表,并且有一些
分页按钮可动态重新加载这些项目(单击按钮后
网址不变。哈希标记#不计入后的更改)。使用_Element
单击选择器_,可以选择这些项目和需要单击的按钮。
在抓取阶段,刮板将单击以下按钮以提取所有
元素。另外,您还需要为_Element单击选择器_添加子选择器
在每个元素中选择数据。在图1中,您可以看到如何配置
_Element单击选择器_从描述的站点中提取数据。

![Fig. 1: Sitemap when using Click once type][image-click-once]

#### 通过单击“更多”按钮在电子商务网站中加载更多项目

此示例与上面的示例相似。唯一的区别是
通过多次单击单个按钮来加载站点项目。在这种情况下
_Element点击选择器_应该配置为使用“点击更多”点击
类型。在图2中,您可以看到如何配置_Element单击选择器_
从该站点提取数据。

![Fig. 2: Sitemap when using Click more type][image-click-more]

[image-click-more]: ../images/selectors/element-click/click-more.png?raw=true
[image-click-once]: ../images/selectors/element-click/click-once.png?raw=true
[element-selector]: Element%20selector.md
[css-selector]: ../CSS%20selector.md